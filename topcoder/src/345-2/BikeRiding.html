<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Your friend likes riding his bike on the hills outside your town.  He asked you to help him count the number of routes he can take.  There are several locations on the hills, some of them directly connected by paths (you can take each path only in one given direction). He would like to start at one of the locations given in <b>startPoints</b> and end at location <b>endPoint</b>.  Return the number of distinct routes that he can use to do that. If the number is larger than <b>n</b> or infinite, return -1.</p>

<p>The definition of a route is as follows:<ul>
<li>A legal route is a sequence of locations starting with one from <b>startPoints</b> and ending with <b>endPoint</b>.  Each location on the route other than the last one has a path leading to the next consecutive location.</li>

<li>Two routes are distinct if they each have a different sequence of locations.</li>

<li>A route can have any length.</li>

<li>Any location (including <b>endPoint</b>) may be present multiple times on the route.</li>
</ul></p>

<p>You are given all locations and connections between them in the vector &lt;string&gt; <b>paths</b>.  The j-th character of the i-th element of <b>paths</b> is '1' (one) if there is a direct one-way path from location i to location j, and '0' (zero) otherwise.
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>BikeRiding</td></tr><tr><td>Method:</td><td>countRoutes</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, vector &lt;int&gt;, int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int countRoutes(vector &lt;string&gt; paths, vector &lt;int&gt; startPoints, int endPoint, int n)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>paths</b> will contain between 2 and 50 elements, inclusive (let <i>k</i> be this number).</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>paths</b> will contain exactly <i>k</i> characters.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>paths</b> will contain only '0' (zero) and '1' (one) characters.</td></tr><tr><td align="center" valign="top">-</td><td><b>endPoint</b> and each element of <b>startPoints</b> will be between <i>0</i> and <i>k-1</i>.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>startPoints</b> will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>None of the elements in <b>startPoints</b> will be equal to <b>endPoint</b></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 2 and 10^9, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;011&quot; ,&quot;001&quot;, &quot;000&quot;}</pre></td></tr><tr><td><pre>{0,1}</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>5</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">There is one possible route from location 1, and two from location 0.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;01000&quot;,
 &quot;00100&quot;,
 &quot;00010&quot;,
 &quot;01001&quot;,
 &quot;00000&quot;}</pre></td></tr><tr><td><pre>{0}</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">The number of routes is infinite.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;000111000000000&quot;,&quot;000111000000000&quot;,&quot;000111000000000&quot;,
 &quot;000000111000000&quot;,&quot;000000111000000&quot;,&quot;000000111000000&quot;,
 &quot;000000000111000&quot;,&quot;000000000111000&quot;,&quot;000000000111000&quot;,
 &quot;000000000000111&quot;,&quot;000000000000111&quot;,&quot;000000000000111&quot;,
 &quot;000000000000001&quot;,&quot;000000000000001&quot;,&quot;000000000000000&quot;}</pre></td></tr><tr><td><pre>{0,1,2}</pre></td></tr><tr><td><pre>14</pre></td></tr><tr><td><pre>1000</pre></td></tr></table></td></tr><tr><td><pre>Returns: 243</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;010&quot;, &quot;100&quot;, &quot;001&quot;}</pre></td></tr><tr><td><pre>{0}</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">There is no possible route.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
